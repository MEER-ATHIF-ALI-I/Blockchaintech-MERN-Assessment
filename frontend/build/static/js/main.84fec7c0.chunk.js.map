{"version":3,"sources":["actions/types.js","actions/alert.js","utils/setAuthToken.js","actions/auth.js","components/layout/Navbar.js","components/layout/Landing.js","components/layout/Alert.js","components/auth/Login.js","components/auth/Register.js","routing/PrivateRoute.js","components/NotFound.js","components/Dashboard.js","reducers/alert.js","reducers/auth.js","reducers/index.js","store.js","App.js","index.js"],"names":["SET_ALERT","REMOVE_ALERT","REGISTER_SUCCESS","REGISTER_FAIL","USER_LOADED","AUTH_ERROR","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT","setAlert","msg","alertType","timeout","dispatch","id","uuidv4","type","payload","setTimeout","setAuthToken","token","axios","defaults","headers","common","loadUser","a","localStorage","get","res","data","connect","state","auth","logout","isAuthenticated","loading","authLinks","className","to","onClick","replace","guestLinks","alerts","alert","length","map","login","email","password","config","body","JSON","stringify","post","errors","response","forEach","error","useState","formData","setFormData","onChange","e","target","name","value","onSubmit","preventDefault","placeholder","required","minLength","register","password2","console","log","Component","component","rest","render","props","NotFound","user","style","marginTop","textAlign","initialState","getItem","combineReducers","action","filter","setItem","removeItem","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","App","useEffect","exact","path","Landing","Dashboard","Register","Login","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.84fec7c0.chunk.js","sourcesContent":["export const SET_ALERT = \"SET_ALERT\";\r\nexport const REMOVE_ALERT = \"REMOVE_ALERT\";\r\nexport const REGISTER_SUCCESS = \"REGISTER_SUCCESS\";\r\nexport const REGISTER_FAIL = \"REGISTER_FAIL\";\r\nexport const USER_LOADED = \"USER_LOADED\";\r\nexport const AUTH_ERROR = \"AUTH_ERROR\";\r\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\r\nexport const LOGIN_FAIL = \"LOGIN_FAIL\";\r\nexport const LOGOUT = \"LOGOUT\";","import { v4 as uuidv4 } from \"uuid\";\r\nimport { SET_ALERT, REMOVE_ALERT } from \"./types\";\r\n\r\nexport const setAlert =\r\n\t(msg, alertType, timeout = 5000) =>\r\n\t(dispatch) => {\r\n\t\tconst id = uuidv4();\r\n\t\tdispatch({\r\n\t\t\ttype: SET_ALERT,\r\n\t\t\tpayload: { msg, alertType, id },\r\n\t\t});\r\n\r\n\t\tsetTimeout(() => dispatch({ type: REMOVE_ALERT, payload: id }), timeout);\r\n\t};","import axios from \"axios\";\r\n\r\nconst setAuthToken = (token) => {\r\n\tif (token) {\r\n\t\taxios.defaults.headers.common[\"x-auth-token\"] = token;\r\n\t} else {\r\n\t\tdelete axios.defaults.headers.common[\"x-auth-token\"];\r\n\t}\r\n};\r\n\r\nexport default setAuthToken;","import axios from \"axios\";\r\nimport { setAlert } from \"./alert\";\r\nimport {\r\n\tREGISTER_SUCCESS,\r\n\tREGISTER_FAIL,\r\n\tUSER_LOADED,\r\n\tAUTH_ERROR,\r\n\tLOGIN_SUCCESS,\r\n\tLOGIN_FAIL,\r\n\tLOGOUT,\r\n} from \"./types\";\r\nimport setAuthToken from \"../utils/setAuthToken\";\r\n\r\n// Load User\r\nexport const loadUser = () => async (dispatch) => {\r\n\tif (localStorage.token) {\r\n\t\tsetAuthToken(localStorage.token);\r\n\t}\r\n\r\n\ttry {\r\n\t\tconst res = await axios.get(\"http://localhost:5000/users/auth\");\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOADED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tdispatch({\r\n\t\t\ttype: AUTH_ERROR,\r\n\t\t});\r\n\t}\r\n};\r\n\r\n// Register User\r\nexport const register =\r\n\t({ name, email, password }) =>\r\n\tasync (dispatch) => {\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst body = JSON.stringify({ name, email, password });\r\n\r\n\t\ttry {\r\n\t\t\tconst res = await axios.post(\r\n\t\t\t\t\"http://localhost:5000/users/\",\r\n\t\t\t\tbody,\r\n\t\t\t\tconfig\r\n\t\t\t);\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: REGISTER_SUCCESS,\r\n\t\t\t\tpayload: res.data,\r\n\t\t\t});\r\n\r\n\t\t\tdispatch(loadUser());\r\n\t\t} catch (err) {\r\n\t\t\tconst errors = err.response.data.errors;\r\n\r\n\t\t\tif (errors) {\r\n\t\t\t\terrors.forEach((error) => dispatch(setAlert(error.msg, \"danger\")));\r\n\t\t\t}\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: REGISTER_FAIL,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n// Login User\r\nexport const login = (email, password) => async (dispatch) => {\r\n\tconst config = {\r\n\t\theaders: {\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t},\r\n\t};\r\n\r\n\tconst body = JSON.stringify({ email, password });\r\n\r\n\ttry {\r\n\t\tconst res = await axios.post(\r\n\t\t\t\"http://localhost:5000/users/auth\",\r\n\t\t\tbody,\r\n\t\t\tconfig\r\n\t\t);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: LOGIN_SUCCESS,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t\tdispatch(loadUser());\r\n\t} catch (err) {\r\n\t\tconst errors = err.response.data.errors;\r\n\r\n\t\tif (errors) {\r\n\t\t\terrors.forEach((error) => dispatch(setAlert(error.msg, \"danger\")));\r\n\t\t}\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: LOGIN_FAIL,\r\n\t\t});\r\n\t}\r\n};\r\n\r\n// Logout / Clear Profile\r\n\r\nexport const logout = () => (dispatch) => {\r\n\tdispatch({ type: LOGOUT });\r\n};","import React, { Fragment } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { logout } from \"../../actions/auth\";\r\n\r\nconst Navbar = ({ auth: { isAuthenticated, loading }, logout }) => {\r\n\tconst authLinks = (\r\n\t\t<ul className=\"nav-links\">\r\n\t\t\t<li>\r\n\t\t\t\t<Link to=\"/dashboard\">\r\n\t\t\t\t\t<i className=\"fas fa-user\"></i>{\" \"}\r\n\t\t\t\t\t<span className=\"hide-sm\">Dashboard</span>\r\n\t\t\t\t</Link>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<Link onClick={logout} to=\"/\" replace>\r\n\t\t\t\t\t<i className=\"fas fa-sign-out-alt\"></i>{\" \"}\r\n\t\t\t\t\t<span className=\"hide-sm\"> &nbsp;Logout</span>\r\n\t\t\t\t</Link>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t);\r\n\tconst guestLinks = (\r\n\t\t<ul className=\"nav-links\">\r\n\t\t\t<li>\r\n\t\t\t\t<Link to=\"/register\">Register</Link>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<Link to=\"/login\">Login</Link>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<nav className=\"navbar bg-dark\">\r\n\t\t\t<h1>\r\n\t\t\t\t<Link to=\"/\">HOME</Link>\r\n\t\t\t</h1>\r\n\t\t\t{!loading && (\r\n\t\t\t\t<Fragment>{isAuthenticated ? authLinks : guestLinks}</Fragment>\r\n\t\t\t)}\r\n\t\t</nav>\r\n\t);\r\n};\r\n\r\nNavbar.propTypes = {\r\n\tlogout: PropTypes.func.isRequired,\r\n\tauth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { logout })(Navbar);","import React from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Landing = ({ isAuthenticated }) => {\r\n\tif (isAuthenticated) {\r\n\t\treturn <Redirect to=\"/dashboard\" />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<section className=\"landing\">\r\n\t\t\t<div className=\"dark-overlay\">\r\n\t\t\t\t<div className=\"landing-inner\">\r\n\t\t\t\t\t<h1>MERN Assessment</h1>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<div className=\"buttons\">\r\n\t\t\t\t\t\t<Link to=\"/register\" className=\"btn\">\r\n\t\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to=\"/login\" className=\"btn\">\r\n\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nLanding.propTypes = {\r\n\tisAuthenticated: PropTypes.bool,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tisAuthenticated: state.auth.isAuthenticated,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Landing);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst Alert = ({ alerts }) =>\r\n\talerts !== null &&\r\n\talerts.length > 0 &&\r\n\talerts.map((alert) => (\r\n\t\t<div key={alert.id} className={`alert alert-${alert.alertType}`}>\r\n\t\t\t{alert.msg}\r\n\t\t</div>\r\n\t));\r\n\r\nAlert.propTypes = {\r\n\talerts: PropTypes.array.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\talerts: state.alert,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Alert);","import React, { Fragment, useState } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { login } from \"../../actions/auth\";\r\nimport Alert from \"../layout/Alert\";\r\n\r\nconst Login = ({ login, isAuthenticated }) => {\r\n\tconst [formData, setFormData] = useState({\r\n\t\temail: \"\",\r\n\t\tpassword: \"\",\r\n\t});\r\n\r\n\tconst { email, password } = formData;\r\n\r\n\tconst onChange = (e) =>\r\n\t\tsetFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n\tconst onSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tlogin(email, password);\r\n\t};\r\n\r\n\t// Redirect if logged in\r\n\tif (isAuthenticated) {\r\n\t\treturn <Redirect to=\"/dashboard\" />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"login-form\">\r\n\t\t\t<h1 className=\"heading\">Sign In</h1>\r\n\t\t\t<p className=\"lead\">\r\n\t\t\t\t<i className=\"fas fa-user\"></i> Sign Into Your Account\r\n\t\t\t</p>\r\n\t\t\t<Alert />\r\n\t\t\t<br />\r\n\t\t\t<form className=\"form\" onSubmit={(e) => onSubmit(e)}>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tplaceholder=\"Email Address\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={(e) => onChange(e)}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tminLength=\"6\"\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={(e) => onChange(e)}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<input type=\"submit\" className=\"btn\" value=\"Login\" />\r\n\t\t\t</form>\r\n\t\t\t<p className=\"link\">\r\n\t\t\t\tDon't have an account? <Link to=\"/register\">Sign Up</Link>\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nLogin.propTypes = {\r\n\tlogin: PropTypes.func.isRequired,\r\n\tisAuthenticated: PropTypes.bool,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tisAuthenticated: state.auth.isAuthenticated,\r\n});\r\n\r\nexport default connect(mapStateToProps, { login })(Login);","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { register } from \"../../actions/auth\";\r\nimport PropTypes from \"prop-types\";\r\nimport Alert from \"../layout/Alert\";\r\nimport { setAlert } from \"../../actions/alert\";\r\n\r\nconst Register = ({ setAlert, register, isAuthenticated }) => {\r\n\tconst [formData, setFormData] = useState({\r\n\t\tname: \"\",\r\n\t\temail: \"\",\r\n\t\tpassword: \"\",\r\n\t\tpassword2: \"\",\r\n\t});\r\n\r\n\tconst { name, email, password, password2 } = formData;\r\n\r\n\tconst onChange = (e) =>\r\n\t\tsetFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n\tconst onSubmit = async (e) => {\r\n\t\tconsole.log(\"Form data\", e);\r\n\t\te.preventDefault();\r\n\t\tif (password !== password2) {\r\n\t\t\tsetAlert(\"Password do not match\", \"danger\");\r\n\t\t} else {\r\n\t\t\tregister({ name, email, password });\r\n\t\t}\r\n\t};\r\n\r\n\t// Redirect if logged in\r\n\tif (isAuthenticated) {\r\n\t\treturn <Redirect to=\"/dashboard\" />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"register-form\">\r\n\t\t\t<h1 className=\"heading\">Sign Up</h1>\r\n\t\t\t<p className=\"lead\">\r\n\t\t\t\t<i className=\"fas fa-user\"></i> Create Your Account\r\n\t\t\t</p>\r\n\t\t\t<Alert />\r\n\t\t\t<br />\r\n\t\t\t<form className=\"form\" onSubmit={(e) => onSubmit(e)}>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Name\"\r\n\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\tonChange={(e) => onChange(e)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tplaceholder=\"Email Address\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={(e) => onChange(e)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tminLength=\"6\"\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={(e) => onChange(e)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tplaceholder=\"Confirm Password\"\r\n\t\t\t\t\t\tname=\"password2\"\r\n\t\t\t\t\t\tminLength=\"6\"\r\n\t\t\t\t\t\tvalue={password2}\r\n\t\t\t\t\t\tonChange={(e) => onChange(e)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<input type=\"submit\" className=\"btn btn-primary\" value=\"Register\" />\r\n\t\t\t</form>\r\n\t\t\t<p className=\"link\">\r\n\t\t\t\tAlready have an account? <Link to=\"/login\">Sign In</Link>\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nRegister.propTypes = {\r\n\tsetAlert: PropTypes.func.isRequired,\r\n\tregister: PropTypes.func.isRequired,\r\n\tisAuthenticated: PropTypes.bool,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tisAuthenticated: state.auth.isAuthenticated,\r\n});\r\n\r\nexport default connect(mapStateToProps, { setAlert, register })(Register);","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst PrivateRoute = ({\r\n\tcomponent: Component,\r\n\tauth: { isAuthenticated, loading },\r\n\t...rest\r\n}) => (\r\n\t<Route\r\n\t\t{...rest}\r\n\t\trender={(props) =>\r\n\t\t\t!isAuthenticated && !loading ? (\r\n\t\t\t\t<Redirect to=\"/login\" />\r\n\t\t\t) : (\r\n\t\t\t\t<Component {...props} />\r\n\t\t\t)\r\n\t\t}\r\n\t/>\r\n);\r\n\r\nPrivateRoute.propTypes = {\r\n\tauth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);","import React from \"react\";\r\n\r\nfunction NotFound() {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h1>Page not found</h1>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default NotFound;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport icon from \"../img/user.png\";\r\n\r\nconst Dashboard = ({ auth: { user } }) => {\r\n\treturn (\r\n\t\t<div style={{ marginTop: \"5rem\", textAlign: \"center\" }}>\r\n\t\t\t<h1>Welcome, {user && user.name}</h1>\r\n\t\t</div>\r\n\t);\r\n};\r\nDashboard.propTypes = {\r\n\tauth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Dashboard);","import { SET_ALERT, REMOVE_ALERT } from \"../actions/types\";\r\n\r\nconst initialState = [];\r\n\r\nexport default function (state = initialState, action) {\r\n\tconst { type, payload } = action;\r\n\r\n\tswitch (type) {\r\n\t\tcase SET_ALERT:\r\n\t\t\treturn [...state, payload];\r\n\t\tcase REMOVE_ALERT:\r\n\t\t\treturn state.filter((alert) => alert.id !== payload);\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}","import {\r\n\tREGISTER_SUCCESS,\r\n\tREGISTER_FAIL,\r\n\tUSER_LOADED,\r\n\tAUTH_ERROR,\r\n\tLOGIN_SUCCESS,\r\n\tLOGIN_FAIL,\r\n\tLOGOUT,\r\n} from \"../actions/types\";\r\n\r\nconst initialState = {\r\n\ttoken: localStorage.getItem(\"token\"),\r\n\tisAuthenticated: null,\r\n\tloading: true,\r\n\tuser: null,\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n\tconst { type, payload } = action;\r\n\r\n\tswitch (type) {\r\n\t\tcase USER_LOADED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisAuthenticated: true,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tuser: payload,\r\n\t\t\t};\r\n\t\tcase REGISTER_SUCCESS:\r\n\t\tcase LOGIN_SUCCESS:\r\n\t\t\tlocalStorage.setItem(\"token\", payload.token);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...payload,\r\n\t\t\t\tisAuthenticated: true,\r\n\t\t\t\tloading: false,\r\n\t\t\t};\r\n\t\tcase REGISTER_FAIL:\r\n\t\tcase AUTH_ERROR:\r\n\t\tcase LOGIN_FAIL:\r\n\t\tcase LOGOUT:\r\n\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttoken: null,\r\n\t\t\t\tisAuthenticated: false,\r\n\t\t\t\tloading: false,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}","import { combineReducers } from \"redux\";\r\nimport alert from \"./alert\";\r\nimport auth from \"./auth\";\r\nexport default combineReducers({\r\n\talert,\r\n\tauth,\r\n});","import { createStore, applyMiddleware } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./reducers\";\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n\trootReducer,\r\n\tinitialState,\r\n\tcomposeWithDevTools(applyMiddleware(...middleware))\r\n);\r\nexport default store;","import React, { useEffect } from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Navbar from \"./components/layout/Navbar\";\nimport Landing from \"./components/layout/Landing\";\nimport Login from \"./components/auth/Login\";\nimport Register from \"./components/auth/Register\";\nimport PrivateRoute from \"./routing/PrivateRoute\";\nimport NotFound from \"./components/NotFound\";\nimport Dashboard from \"./components/Dashboard\";\nimport setAuthToken from \"./utils/setAuthToken\";\nimport store from \"./store\";\nimport { loadUser } from \"./actions/auth\";\n\nif (localStorage.token) {\n\tsetAuthToken(localStorage.token);\n}\n\nfunction App() {\n\tuseEffect(() => {\n\t\tstore.dispatch(loadUser());\n\t}, []);\n\treturn (\n\t\t<>\n\t\t\t<div className=\"App\">\n\t\t\t\t<Router>\n\t\t\t\t\t<Navbar />\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route exact path=\"/\" component={Landing} />\n\t\t\t\t\t\t<PrivateRoute exact path=\"/dashboard\" component={Dashboard} />\n\t\t\t\t\t\t<Route exact path=\"/register\" component={Register} />\n\t\t\t\t\t\t<Route exact path=\"/login\" component={Login} />\n\t\t\t\t\t\t<Route exact path=\"\" component={NotFound} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</Router>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n//Redux\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById(\"root\")\n);"],"sourceRoot":""}